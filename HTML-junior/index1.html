<header>
			<nav>
				<ul>
					<li><a href="index0.html">link1</a></li>
					<li><a href="index1.html">link2</a></li>
					<li><a href="index2.html">link3</a></li>
				</ul>
			</nav>
		</header>
<section>
	<h1 id="link_2">Сходства между системами</h1>
	<h2>Связанные данные и вычисления</h2>
	<p><b>На фундаментальном уровне, ClickHouse, Druid и Pinot похожи</b>, поскольку они хранят данные и выполняют обработку запросов на одних и тех же узлах, уходя от “разъединенной” архитектуры BigQuery. Недавно я уже описывал несколько наследственных проблем со связанной архитектурой в случае Druid [<a href="https://leventov.medium.com/the-problems-with-druid-at-large-scale-and-high-load-part-1-714d475e84c9">1</a>, <a href="https://leventov.medium.com/the-challenges-of-running-druid-at-large-scale-and-future-directions-part-2-ef594ce298f2">2</a>]. Открытого эквивалента для BigQuery на данный момент не существует (за исключением, разве что, <a href="http://drill.apache.org/">Drill</a>?) Возможным подходам к построению подобных открытых систем посвящена <a href="https://leventov.medium.com/design-of-a-cost-efficient-time-series-store-for-big-data-88c5dc41af8e">другая статье в моем блоге</a>.</p>
	<h2>Отличия от Big Data SQL-систем: индексы и статическое распределение данных</h2>
	<p>Рассматриваемые в этой статье системы <b>выполняют запросы быстрее</b>, чем системы Big Data из семейства класса SQL-on-Hadoop: Hive, Impala, Presto и Spark, даже когда последние получают доступ к данным, хранящимся в колоночном формате - к примеру, Parquet или Kudu. Это происходит потому, что в ClickHouse, Druid и Pinot:</p>
		<ul>
			<li>Имеется <b>свой собственный формат для хранения данных с индексами</b>, и они тесно интегрированы с движками обработки запросов. Системы класса SQL-on-Hadoop обычно можно назвать агностиками относительно форматов данных и поэтому они менее “навязчивы” в бэкендах Big Data.</li>
			<li><b>Данные распределены относительно “статично”</b> между узлами, и при распределенном выполнении запроса это можно использовать. Обратная сторона медали при этом в том, что ClickHouse, Druid и Pinot <b>не поддерживают запросы, которые требуют перемещения большого количества данных</b>между узлами - к примеру, join между двумя большими таблицами.</li>
		</ul>
	<h2>Отсутствие точечных обновлений и удалений</h2>
	<p>Находясь на другой стороне спектра баз данных, ClickHouse, Druid и Pinot <b>не поддерживают точечные обновления и удаления</b>, в противоположность колоночным системам вроде Kudu, InfluxDB и Vertica (?). Это даёт ClickHouse, Druid и Pinot возможность производить более эффективное колоночное сжатие и более агрессивные индексы, что означает <b>большую эффективность использования ресурсов</b> и быстрое выполнение запросов.</p>
	<p>Разработчики ClickHouse в Yandex планируют начать поддерживать <a href="https://clickhouse.tech/docs/en/roadmap.html#q1-2018">обновления и удаления в будущем</a>, но я не уверен, будут ли это “настоящие” точечные запросы или обновления/удаления диапазонов данных.</p>
</section>